#!/usr/bin/env bash

# Script to convert the ndpi images that we use in the training dataset to DeepZoom Image (.dzi) format so that they
# can be visualised by AIDA.
#
# Syntax:
#    ./full_histology_ndpi_to_dzi.sh

ndpi_dir=$HOME/scan_srv2_cox/"Maz Yon"
dzi_dir=$HOME/Software/AIDA/dist/data/images

ndpi_list=(
'KLF14-B6NTAC-MAT-17.1c  46-16 C1 - 2016-02-01 14.02.04.ndpi'
'KLF14-B6NTAC-MAT-18.2d  60-16 C1 - 2016-02-03 13.13.57.ndpi'
'KLF14-B6NTAC-MAT-18.2b  58-16 C1 - 2016-02-03 11.10.52.ndpi'
'KLF14-B6NTAC-MAT-17.2c  66-16 C1 - 2016-02-04 11.46.39.ndpi'
'KLF14-B6NTAC-MAT-17.2f  68-16 C1 - 2016-02-04 15.05.54.ndpi'
'KLF14-B6NTAC-36.1a PAT 96-16 C1 - 2016-02-10 16.12.38.ndpi'
'KLF14-B6NTAC-MAT-18.1a  50-16 C1 - 2016-02-02 09.12.41.ndpi'
'KLF14-B6NTAC-MAT-18.2g  63-16 C1 - 2016-02-03 16.58.52.ndpi'
'KLF14-B6NTAC-MAT-16.2d  214-16 C1 - 2016-02-17 16.02.46.ndpi'
'KLF14-B6NTAC-37.1d PAT 109-16 C1 - 2016-02-15 15.19.08.ndpi'
'KLF14-B6NTAC-MAT-18.1e  54-16 C1 - 2016-02-02 15.26.33.ndpi'
'KLF14-B6NTAC 36.1i PAT 104-16 C1 - 2016-02-12 12.14.38.ndpi'
'KLF14-B6NTAC-MAT-18.3d  224-16 C1 - 2016-02-26 11.13.53.ndpi'
'KLF14-B6NTAC-37.1c PAT 108-16 C1 - 2016-02-15 14.49.45.ndpi'
'KLF14-B6NTAC-MAT-18.3b  223-16 C2 - 2016-02-26 10.35.52.ndpi'
'KLF14-B6NTAC-PAT-37.4a  417-16 C1 - 2016-03-16 15.55.32.ndpi'
'KLF14-B6NTAC-PAT-36.3d  416-16 C1 - 2016-03-16 14.44.11.ndpi'
'KLF14-B6NTAC-36.1b PAT 97-16 C1 - 2016-02-10 17.38.06.ndpi'
'KLF14-B6NTAC-PAT-37.2g  415-16 C1 - 2016-03-16 11.47.52.ndpi'
'KLF14-B6NTAC 36.1c PAT 98-16 C1 - 2016-02-11 10.45.00.ndpi'
)

ndpi_list=(
'KLF14-B6NTAC-MAT-18.2b  58-16 B1 - 2016-02-03 09.58.06.ndpi'
'KLF14-B6NTAC-MAT-18.2d  60-16 B1 - 2016-02-03 12.56.49.ndpi'
'KLF14-B6NTAC 36.1i PAT 104-16 B1 - 2016-02-12 11.37.56.ndpi'
'KLF14-B6NTAC-MAT-17.2c  66-16 B1 - 2016-02-04 11.14.28.ndpi'
'KLF14-B6NTAC-MAT-17.1c  46-16 B1 - 2016-02-01 13.01.30.ndpi'
'KLF14-B6NTAC-MAT-18.3d  224-16 B1 - 2016-02-26 10.48.56.ndpi'
'KLF14-B6NTAC-37.1c PAT 108-16 B1 - 2016-02-15 12.33.10.ndpi'
'KLF14-B6NTAC-MAT-16.2d  214-16 B1 - 2016-02-17 15.43.57.ndpi'
'KLF14-B6NTAC-37.1d PAT 109-16 B1 - 2016-02-15 15.03.44.ndpi'
'KLF14-B6NTAC-PAT-37.2g  415-16 B1 - 2016-03-16 11.04.45.ndpi'
'KLF14-B6NTAC-36.1a PAT 96-16 B1 - 2016-02-10 15.32.31.ndpi'
'KLF14-B6NTAC-36.1b PAT 97-16 B1 - 2016-02-10 17.15.16.ndpi'
'KLF14-B6NTAC-MAT-18.1a  50-16 B1 - 2016-02-02 08.49.06.ndpi'
'KLF14-B6NTAC-PAT-36.3d  416-16 B1 - 2016-03-16 14.22.04.ndpi'
'KLF14-B6NTAC-36.1c PAT 98-16 B1 - 2016-02-10 18.32.40.ndpi'
'KLF14-B6NTAC-PAT-37.4a  417-16 B1 - 2016-03-16 15.25.38.ndpi'
'KLF14-B6NTAC-MAT-18.1e  54-16 B1 - 2016-02-02 15.06.05.ndpi'
'KLF14-B6NTAC-MAT-18.3b  223-16 B1 - 2016-02-25 16.53.42.ndpi'
'KLF14-B6NTAC-MAT-17.2f  68-16 B1 - 2016-02-04 14.01.40.ndpi'
'KLF14-B6NTAC-MAT-18.2g  63-16 B1 - 2016-02-03 16.40.37.ndpi'
)

ndpi_list=(
'KLF14-B6NTAC-MAT-19.2g  222-16 C1 - 2016-02-25 15.13.00.ndpi'
'KLF14-B6NTAC-MAT-19.2f  217-16 C1 - 2016-02-18 11.48.16.ndpi'
'KLF14-B6NTAC-MAT-19.1a  56-16 C1 - 2016-02-02 17.23.31.ndpi'
'KLF14-B6NTAC 36.1d PAT 99-16 C1 - 2016-02-11 11.48.31.ndpi'
'KLF14-B6NTAC 36.1e PAT 100-16 C1 - 2016-02-11 14.06.56.ndpi'
'KLF14-B6NTAC-PAT-39.2d  454-16 C1 - 2016-03-17 14.33.38.ndpi'
)

ndpi_list=(
)

for ndpi_file in "${ndpi_list[@]}"
do
  dzi_file=${ndpi_file%.ndpi}
  echo $ndpi_dir/$ndpi_file $dzi_dir/$dzi_file
  vips dzsave "$ndpi_dir"/"$ndpi_file" "$dzi_dir"/"$dzi_file"
done
